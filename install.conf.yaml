- defaults:
    link:
        force: true

- clean: ['~']

- shell:
    # - [git submodule update --init --recursive, Installing submodules]
    - [git submodule update --init, Installing submodules]
    - [mkdir -p ~/bin, Creating ~/bin]
    - [mkdir -p ~/workspace, Creating ~/workspace]

- link:
    ~/bin/diff-so-fancy:
        path: plugins/diff-so-fancy/diff-so-fancy
        create: true
    ~/.gitconfig: config/gitconfig
    ~/.gitignore_global: config/gitignore_global
    ~/.ngrok2: config/ngrok2
    ~/.secrets:
        path: config/secrets
        force: false
    ~/.source: config/source
    ~/.tmux.conf: config/tmux.conf
    ~/.vim_runtime: plugins/vimrc
    ~/.vscode: vscode
    ~/.zplug: plugins/zplug
    ~/.zshrc: config/zshrc

- shell:
    - [sh ~/.vim_runtime/install_awesome_vimrc.sh, Setting up awesome_vimrc]
    - [pip3 install virtualenvwrapper, Setting up virtualenvwrapper]
    - [zsh -ic 'zplug install'; exit 0, Installing zsh plugins]
      # cuz https://github.com/zplug/zplug/issues/272
